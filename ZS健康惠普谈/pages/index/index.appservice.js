$gwx_XC_15=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx_XC_15 || [];
function gz$gwx_XC_15_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_XC_15_1)return __WXML_GLOBAL__.ops_cached.$gwx_XC_15_1
__WXML_GLOBAL__.ops_cached.$gwx_XC_15_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'container data-v-4334e20a'])
Z([3,'__e'])
Z([3,'title-login data-v-4334e20a'])
Z([[4],[[5],[[4],[[5],[[5],[1,'tap']],[[4],[[5],[[4],[[5],[[5],[1,'toLogin']],[[4],[[5],[1,'$event']]]]]]]]]]])
Z([[2,'!'],[[7],[3,'userLogin']]])
Z([[7],[3,'userLogin']])
Z([[2,'!='],[[7],[3,'guideIndex']],[1,3]])
Z([a,[3,'scene-container '],[[2,'?:'],[[2,'||'],[[7],[3,'levelScene']],[[2,'!='],[[7],[3,'syncLayer']],[1,'']]],[1,'layer-index'],[1,'']],[3,' data-v-4334e20a']])
Z([[2,'!='],[[7],[3,'syncLayer']],[1,'']])
Z([[7],[3,'levelScene']])
Z([a,[3,'dining-room '],[[2,'?:'],[[2,'=='],[[7],[3,'syncLayer']],[1,'dining']],[1,'layer-index'],[1,'']],z[7][3]])
Z([a,[3,'background:url(\x27'],[[7],[3,'imgUrl']],[3,'/static/scene/dining-room'],[[2,'?:'],[[7],[3,'userLogin']],[[2,'?:'],[[2,'>'],[[6],[[7],[3,'sceneLevelMsg']],[3,'diningLv']],[1,3]],[1,3],[[6],[[7],[3,'sceneLevelMsg']],[3,'diningLv']]],[1,3]],[3,'.png\x27);background-position:center;background-repeat:no-repeat;background-size:contain;']])
Z([[2,'&&'],[[2,'!'],[[7],[3,'levelScene']]],[[2,'=='],[[7],[3,'syncLayer']],[1,'']]])
Z([[2,'&&'],[[7],[3,'levelScene']],[[2,'=='],[[7],[3,'syncLayer']],[1,'']]])
Z([a,[3,'gym '],[[2,'?:'],[[2,'=='],[[7],[3,'syncLayer']],[1,'gym']],[1,'layer-index'],[1,'']],z[7][3]])
Z([a,z[11][1],z[11][2],[3,'/static/scene/gym'],[[2,'?:'],[[7],[3,'userLogin']],[[2,'?:'],[[2,'>'],[[6],[[7],[3,'sceneLevelMsg']],[3,'gymLv']],[1,3]],[1,3],[[6],[[7],[3,'sceneLevelMsg']],[3,'gymLv']]],[1,3]],z[11][5]])
Z([[2,'||'],[[2,'!='],[[6],[[7],[3,'sceneLevelMsg']],[3,'gymLv']],[1,1]],[[2,'!'],[[7],[3,'userLogin']]]])
Z(z[12])
Z(z[13])
Z([a,[3,'health-center '],[[2,'?:'],[[2,'=='],[[7],[3,'syncLayer']],[1,'health']],[1,'layer-index'],[1,'']],z[7][3]])
Z([a,z[11][1],z[11][2],[3,'/static/scene/health-center'],[[2,'?:'],[[7],[3,'userLogin']],[[2,'?:'],[[2,'>'],[[6],[[7],[3,'sceneLevelMsg']],[3,'healthLv']],[1,3]],[1,3],[[6],[[7],[3,'sceneLevelMsg']],[3,'healthLv']]],[1,3]],z[11][5]])
Z(z[12])
Z(z[13])
Z([3,'rightAction _div data-v-4334e20a'])
Z([[7],[3,'rankingSwitch']])
Z([[7],[3,'dishSwitch']])
Z([3,'cloud-container _footer data-v-4334e20a'])
Z([a,z[11][1],z[11][2],[3,'/static/images/cloud.png\x27);background-position:center;background-repeat:no-repeat;background-size:100vw 100%;']])
Z([[2,'&&'],[[7],[3,'lowcarbonVisible']],[[2,'=='],[[7],[3,'jifen']],[1,0]]])
Z([[2,'&&'],[[7],[3,'lowcarbonVisible']],[[6],[[7],[3,'chooseMsg']],[3,'login']]])
Z([[2,'&&'],[[2,'&&'],[[7],[3,'lowcarbonVisible']],[[2,'>'],[[7],[3,'jifen']],[1,0]]],[[2,'!'],[[7],[3,'levelScene']]]])
Z([3,'ball-group data-v-4334e20a'])
Z([[2,'!='],[[7],[3,'heart']],[1,0]])
Z([[2,'!='],[[7],[3,'carbon']],[1,0]])
Z([[7],[3,'phoneStatus']])
Z([[7],[3,'foodPopupVisible']])
Z([3,'__l'])
Z(z[1])
Z([3,'data-v-4334e20a'])
Z([[4],[[5],[[4],[[5],[[5],[1,'^close']],[[4],[[5],[[4],[[5],[1,'closeFoodPop']]]]]]]]])
Z([[7],[3,'imgData']])
Z([[7],[3,'infoArr']])
Z(z[35])
Z([3,'8dd740cc-1'])
Z([[7],[3,'popupVisible']])
Z(z[36])
Z(z[1])
Z(z[38])
Z([[4],[[5],[[4],[[5],[[5],[1,'^close']],[[4],[[5],[[4],[[5],[1,'handlePopu']]]]]]]]])
Z([[7],[3,'allHearth']])
Z([[7],[3,'popuSync']])
Z(z[44])
Z([3,'8dd740cc-2'])
Z([[7],[3,'taskVisible']])
Z(z[36])
Z(z[1])
Z(z[1])
Z(z[1])
Z(z[38])
Z([[4],[[5],[[5],[[5],[[4],[[5],[[5],[1,'^close']],[[4],[[5],[[4],[[5],[1,'handleTask']]]]]]]],[[4],[[5],[[5],[1,'^clockInWhere']],[[4],[[5],[[4],[[5],[[5],[1,'takePhoto']],[[4],[[5],[1,'$event']]]]]]]]]],[[4],[[5],[[5],[1,'^fresh']],[[4],[[5],[[4],[[5],[1,'init']]]]]]]]])
Z([3,'width:100vw;height:100vh;position:absolute;top:0;'])
Z(z[53])
Z([3,'8dd740cc-3'])
Z([[7],[3,'guideVisible']])
Z(z[36])
Z(z[1])
Z(z[1])
Z(z[38])
Z([[4],[[5],[[5],[[4],[[5],[[5],[1,'^addLayer']],[[4],[[5],[[4],[[5],[1,'guideIndexHandle']]]]]]]],[[4],[[5],[[5],[1,'^close']],[[4],[[5],[[4],[[5],[1,'handleGuide']]]]]]]]])
Z(z[63])
Z([[7],[3,'guideIndex']])
Z(z[60])
Z([3,'8dd740cc-4'])
Z([[7],[3,'stadVisible']])
Z(z[36])
Z(z[1])
Z(z[1])
Z(z[1])
Z(z[38])
Z([[4],[[5],[[5],[[5],[[4],[[5],[[5],[1,'^fresh']],[[4],[[5],[[4],[[5],[1,'init']]]]]]]],[[4],[[5],[[5],[1,'^close']],[[4],[[5],[[4],[[5],[1,'handleStad']]]]]]]],[[4],[[5],[[5],[1,'^clockInWhere']],[[4],[[5],[[4],[[5],[[5],[1,'takePhoto']],[[4],[[5],[1,'$event']]]]]]]]]]])
Z(z[60])
Z([[7],[3,'levelMsg']])
Z([[7],[3,'stadtype']])
Z([3,'8dd740cc-5'])
Z([[7],[3,'lowcarbonVisible']])
Z(z[36])
Z(z[1])
Z(z[38])
Z([[4],[[5],[[4],[[5],[[5],[1,'^close']],[[4],[[5],[[4],[[5],[1,'handleLevel']]]]]]]]])
Z([[7],[3,'chooseMsg']])
Z(z[60])
Z([3,'8dd740cc-6'])
Z([[7],[3,'levelupVisible']])
Z(z[36])
Z(z[1])
Z(z[38])
Z([[4],[[5],[[4],[[5],[[5],[1,'^close']],[[4],[[5],[[4],[[5],[1,'handleLevelup']]]]]]]]])
Z([[7],[3,'userLevel']])
Z([3,'8dd740cc-7'])
})(__WXML_GLOBAL__.ops_cached.$gwx_XC_15_1);return __WXML_GLOBAL__.ops_cached.$gwx_XC_15_1
}
__WXML_GLOBAL__.ops_set.$gwx_XC_15=z;
__WXML_GLOBAL__.ops_init.$gwx_XC_15=true;
var x=['./pages/index/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_XC_15_1()
var aRB=_n('view')
_rz(z,aRB,'class',0,e,s,gg)
var h1B=_mz(z,'view',['bindtap',1,'class',1,'data-event-opts',2],[],e,s,gg)
var o2B=_v()
_(h1B,o2B)
if(_oz(z,4,e,s,gg)){o2B.wxVkey=1
}
var c3B=_v()
_(h1B,c3B)
if(_oz(z,5,e,s,gg)){c3B.wxVkey=1
}
o2B.wxXCkey=1
c3B.wxXCkey=1
_(aRB,h1B)
var tSB=_v()
_(aRB,tSB)
if(_oz(z,6,e,s,gg)){tSB.wxVkey=1
var o4B=_n('view')
_rz(z,o4B,'class',7,e,s,gg)
var l5B=_v()
_(o4B,l5B)
if(_oz(z,8,e,s,gg)){l5B.wxVkey=1
}
var a6B=_v()
_(o4B,a6B)
if(_oz(z,9,e,s,gg)){a6B.wxVkey=1
}
var t7B=_mz(z,'view',['class',10,'style',1],[],e,s,gg)
var e8B=_v()
_(t7B,e8B)
if(_oz(z,12,e,s,gg)){e8B.wxVkey=1
}
var b9B=_v()
_(t7B,b9B)
if(_oz(z,13,e,s,gg)){b9B.wxVkey=1
}
e8B.wxXCkey=1
b9B.wxXCkey=1
_(o4B,t7B)
var o0B=_mz(z,'view',['class',14,'style',1],[],e,s,gg)
var xAC=_v()
_(o0B,xAC)
if(_oz(z,16,e,s,gg)){xAC.wxVkey=1
}
var oBC=_v()
_(o0B,oBC)
if(_oz(z,17,e,s,gg)){oBC.wxVkey=1
}
var fCC=_v()
_(o0B,fCC)
if(_oz(z,18,e,s,gg)){fCC.wxVkey=1
}
xAC.wxXCkey=1
oBC.wxXCkey=1
fCC.wxXCkey=1
_(o4B,o0B)
var cDC=_mz(z,'view',['class',19,'style',1],[],e,s,gg)
var hEC=_v()
_(cDC,hEC)
if(_oz(z,21,e,s,gg)){hEC.wxVkey=1
}
var oFC=_v()
_(cDC,oFC)
if(_oz(z,22,e,s,gg)){oFC.wxVkey=1
}
hEC.wxXCkey=1
oFC.wxXCkey=1
_(o4B,cDC)
l5B.wxXCkey=1
a6B.wxXCkey=1
_(tSB,o4B)
}
var cGC=_n('view')
_rz(z,cGC,'class',23,e,s,gg)
var oHC=_v()
_(cGC,oHC)
if(_oz(z,24,e,s,gg)){oHC.wxVkey=1
}
var lIC=_v()
_(cGC,lIC)
if(_oz(z,25,e,s,gg)){lIC.wxVkey=1
}
oHC.wxXCkey=1
lIC.wxXCkey=1
_(aRB,cGC)
var aJC=_mz(z,'view',['class',26,'style',1],[],e,s,gg)
var tKC=_v()
_(aJC,tKC)
if(_oz(z,28,e,s,gg)){tKC.wxVkey=1
}
var eLC=_v()
_(aJC,eLC)
if(_oz(z,29,e,s,gg)){eLC.wxVkey=1
}
var bMC=_v()
_(aJC,bMC)
if(_oz(z,30,e,s,gg)){bMC.wxVkey=1
var xOC=_n('view')
_rz(z,xOC,'class',31,e,s,gg)
var oPC=_v()
_(xOC,oPC)
if(_oz(z,32,e,s,gg)){oPC.wxVkey=1
}
var fQC=_v()
_(xOC,fQC)
if(_oz(z,33,e,s,gg)){fQC.wxVkey=1
}
oPC.wxXCkey=1
fQC.wxXCkey=1
_(bMC,xOC)
}
var oNC=_v()
_(aJC,oNC)
if(_oz(z,34,e,s,gg)){oNC.wxVkey=1
}
tKC.wxXCkey=1
eLC.wxXCkey=1
bMC.wxXCkey=1
oNC.wxXCkey=1
_(aRB,aJC)
var eTB=_v()
_(aRB,eTB)
if(_oz(z,35,e,s,gg)){eTB.wxVkey=1
var cRC=_mz(z,'food-popup',['bind:__l',36,'bind:close',1,'class',2,'data-event-opts',3,'imgData',4,'infoArr',5,'visible',6,'vueId',7],[],e,s,gg)
_(eTB,cRC)
}
var bUB=_v()
_(aRB,bUB)
if(_oz(z,44,e,s,gg)){bUB.wxVkey=1
var hSC=_mz(z,'popup',['bind:__l',45,'bind:close',1,'class',2,'data-event-opts',3,'heartCount',4,'type',5,'visible',6,'vueId',7],[],e,s,gg)
_(bUB,hSC)
}
var oVB=_v()
_(aRB,oVB)
if(_oz(z,53,e,s,gg)){oVB.wxVkey=1
var oTC=_mz(z,'task',['bind:__l',54,'bind:clockInWhere',1,'bind:close',2,'bind:fresh',3,'class',4,'data-event-opts',5,'style',6,'visible',7,'vueId',8],[],e,s,gg)
_(oVB,oTC)
}
var xWB=_v()
_(aRB,xWB)
if(_oz(z,63,e,s,gg)){xWB.wxVkey=1
var cUC=_mz(z,'guide',['bind:__l',64,'bind:addLayer',1,'bind:close',2,'class',3,'data-event-opts',4,'jumpStatus',5,'layer',6,'style',7,'vueId',8],[],e,s,gg)
_(xWB,cUC)
}
var oXB=_v()
_(aRB,oXB)
if(_oz(z,73,e,s,gg)){oXB.wxVkey=1
var oVC=_mz(z,'stadiums',['bind:__l',74,'bind:clockInWhere',1,'bind:close',2,'bind:fresh',3,'class',4,'data-event-opts',5,'style',6,'text',7,'type',8,'vueId',9],[],e,s,gg)
_(oXB,oVC)
}
var fYB=_v()
_(aRB,fYB)
if(_oz(z,84,e,s,gg)){fYB.wxVkey=1
var lWC=_mz(z,'stadiumslevel',['bind:__l',85,'bind:close',1,'class',2,'data-event-opts',3,'lowcarbonVal',4,'style',5,'vueId',6],[],e,s,gg)
_(fYB,lWC)
}
var cZB=_v()
_(aRB,cZB)
if(_oz(z,92,e,s,gg)){cZB.wxVkey=1
var aXC=_mz(z,'levelup',['bind:__l',93,'bind:close',1,'class',2,'data-event-opts',3,'levelupMsg',4,'vueId',5],[],e,s,gg)
_(cZB,aXC)
}
tSB.wxXCkey=1
eTB.wxXCkey=1
eTB.wxXCkey=3
bUB.wxXCkey=1
bUB.wxXCkey=3
oVB.wxXCkey=1
oVB.wxXCkey=3
xWB.wxXCkey=1
xWB.wxXCkey=3
oXB.wxXCkey=1
oXB.wxXCkey=3
fYB.wxXCkey=1
fYB.wxXCkey=3
cZB.wxXCkey=1
cZB.wxXCkey=3
_(r,aRB)
return r
}
e_[x[0]]=e_[x[0]]||{f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx_XC_15";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||false)$gwx_XC_15();	if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/index/index.wxml'] = [$gwx_XC_15, './pages/index/index.wxml'];else __wxAppCode__['pages/index/index.wxml'] = $gwx_XC_15( './pages/index/index.wxml' );
	;__wxRoute = "pages/index/index";__wxRouteBegin = true;__wxAppCurrentFile__="pages/index/index.js";define("pages/index/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/index/index"],{"10ad":function(e,t,n){"use strict";(function(e){n("d770");i(n("66fd"));var t=i(n("4957"));function i(e){return e&&e.__esModule?e:{default:e}}wx.__webpack_require_UNI_MP_PLUGIN__=n,e(t.default)}).call(this,n("543d")["createPage"])},"19de":function(e,t,n){"use strict";n.r(t);var i=n("4335"),o=n.n(i);for(var a in i)"default"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t["default"]=o.a},"1cc2":function(e,t,n){"use strict";var i=n("72a2"),o=n.n(i);o.a},"348f":function(e,t,n){},4335:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("b0c3")),o=n("3b36"),a=n("b068"),l=n("5d3a"),s=r(n("557d")),u=r(n("fdbe")),c=r(n("88af"));function r(e){return e&&e.__esModule?e:{default:e}}var d=function(){n.e("components/foodPopup/foodPopup").then(function(){return resolve(n("3e67"))}.bind(null,n)).catch(n.oe)},f=function(){Promise.all([n.e("common/vendor"),n.e("components/popup")]).then(function(){return resolve(n("32be"))}.bind(null,n)).catch(n.oe)},g=function(){n.e("components/index/guide-modal/guide-modal").then(function(){return resolve(n("c0d4"))}.bind(null,n)).catch(n.oe)},h=function(){Promise.all([n.e("common/vendor"),n.e("components/task")]).then(function(){return resolve(n("cf07"))}.bind(null,n)).catch(n.oe)},p=function(){n.e("components/index/stadiums-modal/stadiums-modal").then(function(){return resolve(n("859a"))}.bind(null,n)).catch(n.oe)},v=function(){n.e("components/index/levelup-modal/levelup-modal").then(function(){return resolve(n("9db1"))}.bind(null,n)).catch(n.oe)},m="https://mmbiz.qpic.cn/mmbiz/icTdbqWNOwNRna42FI242Lcia07jQodd2FJGIYQfG0LAJGFxM4FbnQP6yfMxBgJ0F3YRqJCJ1aPAK2dQagdusBZg/0",b={data:function(){return{dishSwitch:!1,rankingSwitch:!1,infoArr:[],imgData:"",foodPopupVisible:!1,clockInVisible:!0,title:"Hello",popupVisible:!1,jifen:0,leveljifen:0,userLogin:!1,avatarUrl:"",avatarNickName:"",taskVisible:!1,guideVisible:!1,levelupVisible:!1,stadVisible:!1,lowcarbonVisible:!1,levelScene:!1,guideIndex:0,allHearth:0,allCarbon:0,heart:0,carbon:0,syncLayer:"",popuSync:"health",levelPoint:0,levelMsg:{scene:2,level:0,point:0,type:0,pointType:1,allPoint:0},gymPoint:"",healthPoint:"",diningPoint:"",userPoint:0,userLevel:0,chooseMsg:{conut:0,login:!1},levelupIcon:["".concat(i.default.pro,"/static/level/freshman1.png"),"".concat(i.default.pro,"/static/level/freshman2.png"),"".concat(i.default.pro,"/static/level/freshman3.png"),"".concat(i.default.pro,"/static/level/wiseman1.png"),"".concat(i.default.pro,"/static/level/wiseman2.png"),"".concat(i.default.pro,"/static/level/wiseman3.png"),"".concat(i.default.pro,"/static/level/king1.png"),"".concat(i.default.pro,"/static/level/king2.png"),"".concat(i.default.pro,"/static/level/king3.png")],levelUpGym:["".concat(i.default.pro,"/static/scene/gym1.png"),"".concat(i.default.pro,"/static/scene/gym2.png"),"".concat(i.default.pro,"/static/scene/gym3.png")],levelUpDining:["".concat(i.default.pro,"/static/scene/dining-room1.png"),"".concat(i.default.pro,"/static/scene/dining-room2.png"),"".concat(i.default.pro,"/static/scene/dining-room3.png")],levleUpHealth:["".concat(i.default.pro,"/static/scene/gym1.png"),"".concat(i.default.pro,"/static/scene/gym2.png"),"".concat(i.default.pro,"/static/scene/gym3.png")],sceneLevelMsg:{diningLv:1,gymLv:1,healthLv:1},imgUrl:i.default.pro,phoneStatus:!1,hasOnShow:!1}},components:{foodPopup:d,popup:f,task:h,guide:g,stadiums:p,stadiumslevel:c.default,levelup:v},watch:{userPoint:{handler:function(e,t){switch(e){case 450:this.userLevel=1,this.levelupVisible=!0;break;case 900:this.userLevel=2,this.levelupVisible=!0;break;case 1350:this.userLevel=3,this.levelupVisible=!0;break;case 2250:this.userLevel=4,this.levelupVisible=!0;break;case 3600:this.userLevel=5,this.levelupVisible=!0;break;case 5400:this.userLevel=6,this.levelupVisible=!0;break;case 8100:this.userLevel=7,this.levelupVisible=!0;break;case 10800:this.userLevel=8,this.levelupVisible=!0;break;default:break}},immediate:!0,deep:!0}},onReady:function(){var e=this;(0,l.getRankAuth)().then((function(t){"00000"===t.code&&(e.dishSwitch=t.data.dishSwitch,e.rankingSwitch=t.data.rankingSwitch)})),wx.createSelectorQuery().select("#peopleRun").fields({node:!0,size:!0}).exec((function(e){var t=e[0].node,i=t.getContext("2d"),o=wx.getSystemInfoSync().pixelRatio;t.width=e[0].width*o,t.height=e[0].width*o*1.93,i.scale(o,o),u.default.setup(t),u.default.loadAnimation({loop:!0,autoplay:!0,animationData:n("ef15"),rendererSettings:{context:i}})})),wx.createSelectorQuery().select("#peopleRun2").fields({node:!0,size:!0}).exec((function(e){var t=e[0].node,i=t.getContext("2d"),o=wx.getSystemInfoSync().pixelRatio;t.width=e[0].width*o,t.height=e[0].width*o*1.93,i.scale(o,o),u.default.setup(t),setTimeout((function(){u.default.loadAnimation({loop:!0,autoplay:!0,animationData:n("ae2b"),rendererSettings:{context:i}})}),8e3)})),wx.createSelectorQuery().select("#peopleRun3").fields({node:!0,size:!0}).exec((function(e){var t=e[0].node,i=t.getContext("2d"),o=wx.getSystemInfoSync().pixelRatio;t.width=e[0].width*o,t.height=e[0].width*o*1.93,i.scale(o,o),u.default.setup(t),setTimeout((function(){u.default.loadAnimation({loop:!0,autoplay:!0,animationData:n("f7e3"),rendererSettings:{context:i}})}),18e3)}))},mounted:function(){},onLoad:function(e){this.userLogin&&wx.getWeRunData({success:function(e){var t=e.encryptedData,n=e.iv;(0,o.userStep)({iv:n,encryptedData:t}).then((function(e){"B0301"===e.code&&(wx.removeStorage({key:"token"}),wx.removeStorage({key:"userInfo"}),wx.navigateTo({url:"/pages/login/login"}))}))}})},onShow:function(){if(""!=e.getStorageSync("userInfo")){var t=JSON.parse(e.getStorageSync("userInfo"));this.avatarUrl=t.avatarUrl?t.avatarUrl:m,this.avatarNickName=t.nickname,""!=t&&(this.userLogin=!0)}this.userLogin&&this.init()},onShareAppMessage:function(){return{title:"浙商保险-健康碳",path:"pages/index/index",imageUrl:this.imgUrl+"/static/images/logo.png"}},methods:{init:function(){var e=this;(0,a.getHouseList)().then((function(t){t.data.forEach((function(t){switch(t.type){case 1:e.diningPoint=t.point,e.sceneLevelMsg.diningLv=e.levelByNum(Number(t.point));break;case 2:e.gymPoint=t.point,e.sceneLevelMsg.gymLv=e.levelByNum(Number(t.point));break;case 4:e.healthPoint=t.point,e.sceneLevelMsg.healthLv=e.levelByNum(Number(t.point));break}}))})),(0,o.getUserPoints)().then((function(t){e.allCarbon=t.data.allCarbonPoint,e.allHearth=t.data.allHealthPoint,e.carbon=t.data.carbonPoint,e.heart=t.data.healthPoint,e.jifen=Number(e.carbon)+Number(e.heart),e.userPoint=Number(t.data.allCarbonPoint)+Number(t.data.allHealthPoint),0<=e.userPoint&&e.userPoint<450?e.userLevel=0:450<=e.userPoint&&e.userPoint<900?e.userLevel=1:900<=e.userPoint&&e.userPoint<1350?e.userLevel=2:1350<=e.userPoint&&e.userPoint<2250?e.userLevel=3:2250<=e.userPoint&&e.userPoint<3600?e.userLevel=4:3600<=e.userPoint&&e.userPoint<5400?e.userLevel=5:5400<=e.userPoint&&e.userPoint<8100?e.userLevel=6:8100<=e.userPoint&&e.userPoint<10800?e.userLevel=7:10800<=e.userPoint&&(e.userLevel=8)})),(0,o.userInfo)().then((function(t){if(""==t.data.phone?e.phoneStatus=!0:e.phoneStatus=!1,""==t.data.nickname){e.guideIndex=1,e.guideVisible=!0;var n={phone:s.default.getLocal("phone_code")?s.default.getLocal("phone_code"):""};(0,o.updateUserInfo)(n).then((function(e){console.log(e)}))}}))},levelByNum:function(e){return e<100?1:100<=e&&e<200?2:e>=200?3:void 0},toLogin:function(){this.userLogin||wx.navigateTo({url:"/pages/login/login"})},closeFoodPop:function(){this.foodPopupVisible=!1},toFoodPage:function(){if(this.userLogin){var e=this;wx.chooseMedia({count:9,mediaType:["image","video"],sourceType:["album","camera"],maxDuration:30,camera:"back",success:function(t){var n=t.tempFiles[0].tempFilePath,o=t.tempFiles[0].size;n.split(".")[1];o<2e6?wx.uploadFile({url:"".concat(i.default.pro,"/api/tools/dish"),filePath:n,name:"file",header:{"Content-Type":"multipart/form-data;",token:s.default.getLocal("token")?s.default.getLocal("token"):""},formData:{file:n[0]},success:function(t){if(200===(null===t||void 0===t?void 0:t.statusCode)){var i=t.data,o=JSON.parse(i);if("00000"===o.code){var a,l=(null===o||void 0===o||null===(a=o.data)||void 0===a?void 0:a.result)||[],s=l.filter((function(e){return e.has_calorie}));e.foodPopupVisible=!0,e.infoArr=s,e.imgData=n}else wx.showToast({icon:"none",title:"失败"})}else wx.showToast({icon:"none",title:"失败"})},fail:function(e){wx.showToast({icon:"none",title:"上传失败"})}}):wx.showToast({icon:"none",title:"上传图片不能大于2M!"})}})}else wx.navigateTo({url:"/pages/login/login"})},toRankPage:function(){this.userLogin?wx.navigateTo({url:"/pages/rank/rank"}):wx.navigateTo({url:"/pages/login/login"})},toRulesPage:function(){this.userLogin||wx.navigateTo({url:"/pages/login/login"}),0==this.guideIndex?wx.navigateTo({url:"/pages/strategy/strategy"}):console.log("不等于0")},toScenario:function(){this.userLogin?0==this.guideIndex&&wx.navigateTo({url:"/pages/strategy/strategy"}):wx.navigateTo({url:"/pages/login/login"})},toTask:function(){this.userLogin?0==this.guideIndex&&(this.taskVisible=!0):wx.navigateTo({url:"/pages/login/login"})},toAccount:function(){this.userLogin?0==this.guideIndex&&wx.navigateTo({url:"/pages/health/index"}):wx.navigateTo({url:"/pages/login/login"})},guideIndexHandle:function(){if(6==this.guideIndex)return this.guideIndex=0,this.guideVisible=!1,void console.log(this.guideIndex);this.guideIndex++,console.log(this.guideIndex)},handleTask:function(){this.taskVisible=!1},handleStad:function(){this.stadVisible=!1},handleLevel:function(){this.lowcarbonVisible=!1,this.levelScene=!1},handlePopu:function(){this.popupVisible=!1,this.popuSync=""},handleGuide:function(){this.guideVisible=!1},handleLevelup:function(){this.levelupVisible=!1},sceneModal:function(e,t,n,i,o){this.userLogin?(this.stadVisible=!0,this.levelMsg.level=t,this.levelMsg.point=i,this.levelMsg.scene=e,this.levelMsg.type=n,this.levelMsg.allPoint=o):wx.navigateTo({url:"/pages/login/login"})},pushMine:function(){wx.navigateTo({url:"/pages/health/index"})},lowcarbon:function(){console.log("?????","点击"),this.userLogin?(this.lowcarbonVisible=!0,0==this.jifen||(this.chooseMsg.conut=this.jifen)):wx.navigateTo({url:"/pages/login/login"})},integralToLevelUp:function(e){this.levelScene=!0,"task"==e?(this.levelPoint=this.heart,this.levelMsg.pointType=1,console.log("通过任务积分增加经验值")):"walk"==e&&(this.levelPoint=this.carbon,this.levelMsg.pointType=2,console.log("通过步行积分增加经验值"))},sceneToLevelUp:function(e,t,n,i,o){this.lowcarbonVisible=!1,this.levelScene=!1,this.sceneModal(e,t,n,i,o),console.log("出发点击事件")},takePhoto:function(e){console.log("takephoto输出"),console.log(e),"kaitong"!=e?("getup"!==e&&"getdown"!==e||(this.popupVisible=!0),"dining"===e&&(this.syncLayer=e),"gym"!==e&&"health"!==e||this.getLocationClockIn(e),this.taskVisible=!1,this.stadVisible=!1,this.popuSync=e,this.init()):this.init()},getLocationClockIn:function(e){var t=this,n={gym:3,health:5};wx.chooseLocation({success:function(i){(0,a.upTask)({integralBehavior:n[e],latitude:i.latitude,longitude:i.longitude}).then((function(e){console.log(e),t.popupVisible=!0,t.init()}))}})},handleLayer:function(){this.syncLayer=""},choosePhoto:function(){var e=this,t=0;switch(console.log(this.syncLayer),this.syncLayer){case"gym":t=3;break;case"dining":t=4;break;case"health":t=5;break;default:break}wx.chooseMedia({count:9,mediaType:["image","video"],sourceType:["album","camera"],maxDuration:30,camera:"back",success:function(n){var o=n.tempFiles[0].tempFilePath,l=n.tempFiles[0].size,u=o.split(".")[1];if(l<2e6)if("png"==u||"jpg"==u||"jpeg"==u){if(4===t)return void wx.uploadFile({url:"".concat(i.default.pro,"/api/points/file/upload?integralBehavior=").concat(t),filePath:o,name:"file",header:{"Content-Type":"multipart/form-data;",token:s.default.getLocal("token")?s.default.getLocal("token"):""},formData:{file:o[0]},success:function(n){n.data;e.popupVisible=!0,(0,a.upTask)({integralBehavior:t}).then((function(t){console.log(t),e.init()}))},fail:function(e){wx.showToast({icon:"none",title:"上传失败"})}})}else wx.showToast({icon:"none",title:"请上传png, jpg或jpeg格式的图片"});else wx.showToast({icon:"none",title:"上传图片不能大于2M!"})}})},getPhoneNumber:function(e){var t=this;(0,o.getUserPhone)({code:e.detail.code}).then((function(e){if("00000"==e.code){if(t.init(),!t.userLogin)return void wx.navigateTo({url:"/pages/login/login"});if(0!=t.guideIndex)return void console.log("去账号");wx.navigateTo({url:"/pages/health/index"})}}))}}};t.default=b}).call(this,n("543d")["default"])},4957:function(e,t,n){"use strict";n.r(t);var i=n("7701"),o=n("19de");for(var a in o)"default"!==a&&function(e){n.d(t,e,(function(){return o[e]}))}(a);n("a859");var l,s=n("f0c5"),u=Object(s["a"])(o["default"],i["b"],i["c"],!1,null,"4334e20a",null,!1,i["a"],l);t["default"]=u.exports},"72a2":function(e,t,n){},7701:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return i}));var i={foodPopup:function(){return n.e("components/foodPopup/foodPopup").then(n.bind(null,"3e67"))}},o=function(){var e=this,t=e.$createElement;e._self._c},a=[]},"88af":function(e,t,n){"use strict";n.r(t);var i=n("df11"),o=n("b0ec");for(var a in o)"default"!==a&&function(e){n.d(t,e,(function(){return o[e]}))}(a);n("1cc2");var l,s=n("f0c5"),u=Object(s["a"])(o["default"],i["b"],i["c"],!1,null,"567a229f",null,!1,i["a"],l);t["default"]=u.exports},8946:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={name:"stadiumslevel",props:{lowcarbonVal:Object},data:function(){return{}},methods:{handleClose:function(){this.$emit("close")}}};t.default=i},a859:function(e,t,n){"use strict";var i=n("348f"),o=n.n(i);o.a},b0ec:function(e,t,n){"use strict";n.r(t);var i=n("8946"),o=n.n(i);for(var a in i)"default"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t["default"]=o.a},df11:function(e,t,n){"use strict";var i;n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return i}));var o=function(){var e=this,t=e.$createElement;e._self._c},a=[]}},[["10ad","common/runtime","common/vendor"]]]);
},{isPage:true,isComponent:true,currentFile:'pages/index/index.js'});require("pages/index/index.js");